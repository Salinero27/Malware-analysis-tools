from idautils import *
from idc import *
from idaapi import *


key = [0x29, 0xD9, 0x3D, 0xEC]
count=0
word=""

for ea in Segments():
	if SegName(ea) == ".cdata":
		size = SegEnd(ea) - SegStart(ea)
		for b in GetManyBytes(SegStart(ea), size):
			if ord(b)!=0:
				word=word+chr(ord(b)^key[count%4])
				patch_byte(SegStart(ea)+count,ord(b)^key[count%4])
				count += 1